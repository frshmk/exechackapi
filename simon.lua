local a={}local b={}b[1]=125;b[2]=150;b[3]=175;b[4]=200;local function c()a.Hhfg={}a.jFun={}a.Htij=0;a.Djfyu=false;a.DjfyuSeq=1;a.Whd=1;a.fYbg=nil;a.Wgjyhb=false;a.Egfh=false;a.Rhjd=1 end;local function d()if a.Wgjyhb then return end;if a.Djfyu==false then a.Djfyu=true end;if a.Htij>CurTime()then return end;a.Htij=CurTime()+1;if a.DjfyuSeq==nil then a.DjfyuSeq=1 end;for e,f in pairs(a.Hhfg)do if f.num==a.DjfyuSeq then a.simon_lightUpColor=f.color end end;timer.Simple(0.9,function()a.simon_lightUpColor=0 end)if a.DjfyuSeq>a.Rhjd then a.Djfyu=false;a.DjfyuSeq=0;return end;a.DjfyuSeq=a.DjfyuSeq+1 end;hook.Add("Think","3213",function()if a.Djfyu==true then d()end end)local function g()local h=a.Rhjd;local i={}local j={num=a.Rhjd,color=math.random(1,4)}table.insert(a.Hhfg,j)a.Djfyu=true end;local function k()c()end;local function l()a.Whd=1;a.jFun={}a.Rhjd=a.Rhjd+1;g()d()end;local function m()for n=1,a.Whd do if a.Hhfg[n].num~=a.jFun[n].num or a.Hhfg[n].color~=a.jFun[n].color then return true end end;return false end;local function o(p,q)if a.Djfyu then return end;if a.Egfh~=true then return end;a.fYbg=p;local j={num=a.Whd,color=p}table.insert(a.jFun,j)if m()==true then a.Wgjyhb=true;timer.Simple(2,function()k()end)return end;if a.Whd==a.Rhjd then l()return end;a.Whd=a.Whd+1 end;local function r()local q=vgui.Create("DFrame")q:SetTitle("")q:SetSize(400,500)q:SetPos(ScrW()/2-q:GetWide()/2-300,ScrH()/2-q:GetTall()/2)q:MoveTo(ScrW()/2-q:GetWide()/2,ScrH()/2-q:GetTall()/2,0.25,0)q:SetVisible(true)q:SetDraggable(false)q:MakePopup(true)q.OnRemove=function()if a.simon_hiscores==true then a.simon_highscorePanel:Remove()a.simon_hiscores=false;return end;k()end;q.Paint=function()surface.SetDrawColor(Color(0,0,0,250))surface.DrawRect(0,24,q:GetWide(),380)surface.SetTextColor(Color(255,255,255))surface.SetFont("default")surface.SetTextPos(8,384)surface.DrawText("Score: "..a.Rhjd)if a.Egfh then local s;surface.SetDrawColor(Color(26,188,156))surface.DrawRect(242,380,45,18)surface.SetTextPos(246,383)if a.Djfyu then s="WATCH"else s="REPEAT"end;if a.Wgjyhb then s="FAILED"end;surface.DrawText(s)end end;local t=vgui.Create("DButton",q)t:SetText("")t:SetSize(192,170)t:SetPos(4,28)t.OnCursorEntered=function()t.entered=true end;t.OnCursorExited=function()t.entered=false end;t.Paint=function()local u;if a.Djfyu and a.simon_lightUpColor==1 then u=255 elseif a.Djfyu==false and t.entered==true then u=200 else u=50 end;surface.SetDrawColor(Color(46,204,113,u))surface.DrawRect(0,0,t:GetWide(),t:GetTall())end;t.DoClick=function()o(1,q)end;local v=vgui.Create("DButton",q)v:SetText("")v:SetSize(192,170)v:SetPos(204,28)v.OnCursorEntered=function()v.entered=true end;v.OnCursorExited=function()v.entered=false end;v.Paint=function()local u;if a.Djfyu and a.simon_lightUpColor==2 then u=255 elseif a.Djfyu==false and v.entered==true then u=200 else u=50 end;surface.SetDrawColor(Color(231,76,60,u))surface.DrawRect(0,0,t:GetWide(),t:GetTall())end;v.DoClick=function()o(2,q)end;local w=vgui.Create("DButton",q)w:SetText("")w:SetSize(192,170)w:SetPos(4,206)w.OnCursorEntered=function()w.entered=true end;w.OnCursorExited=function()w.entered=false end;w.Paint=function()local u;if a.Djfyu and a.simon_lightUpColor==3 then u=255 elseif a.Djfyu==false and w.entered==true then u=200 else u=50 end;surface.SetDrawColor(Color(241,196,15,u))surface.DrawRect(0,0,t:GetWide(),t:GetTall())end;w.DoClick=function()o(3,q)end;local x=vgui.Create("DButton",q)x:SetText("")x:SetSize(192,170)x:SetPos(204,206)x.OnCursorEntered=function()x.entered=true end;x.OnCursorExited=function()x.entered=false end;x.Paint=function()local u;if a.Djfyu and a.simon_lightUpColor==4 then u=255 elseif a.Djfyu==false and x.entered==true then u=200 else u=50 end;surface.SetDrawColor(Color(52,152,219,u))surface.DrawRect(0,0,t:GetWide(),t:GetTall())end;x.DoClick=function()o(4,q)end;local y=vgui.Create("DButton",q)y:SetText("")y:SetSize(100,38)y:SetPos(q:GetWide()/2-y:GetWide()/2,408)y.OnCursorEntered=function()y.entered=true end;y.OnCursorExited=function()y.entered=false end;y.Paint=function()local u;local s="START"if a.Egfh then return end;if y.entered==true then u=100 else u=200 end;surface.SetDrawColor(Color(0,200,0,u))surface.DrawRect(0,0,y:GetWide(),y:GetTall())surface.SetTextColor(Color(255,255,255))surface.SetFont("DermaLarge")surface.SetTextPos(y:GetWide()/2-41,4)surface.DrawText(s)end;y.DoClick=function()if a.Egfh==true then return end;a.Egfh=true;g()d()end end;a.Rhjd=nil;if a.Rhjd==nil then a.Rhjd=1 end;c()r()
